{"level":"info","message":"Server is running on port 3003","service":"media_service","timestamp":"2025-04-09T11:35:41.176Z"}
{"errorLabelSet":{},"level":"error","message":"Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{"smm-db-shard-00-00.otwoh.mongodb.net:27017":{"$clusterTime":null,"address":"smm-db-shard-00-00.otwoh.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":1058641513,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"smm-db-shard-00-01.otwoh.mongodb.net:27017":{"$clusterTime":null,"address":"smm-db-shard-00-01.otwoh.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":1058641720,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"smm-db-shard-00-02.otwoh.mongodb.net:27017":{"$clusterTime":null,"address":"smm-db-shard-00-02.otwoh.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":1058641513,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":"atlas-n52hjf-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"service":"media_service","stack":"MongooseServerSelectionError: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/\n    at _handleConnectionErrors (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\mongoose\\lib\\connection.js:1096:11)","timestamp":"2025-04-09T11:36:13.604Z"}
{"level":"info","message":"Server is running on port 3003","service":"media_service","timestamp":"2025-04-09T11:37:23.554Z"}
{"level":"info","message":"MongoDB connected successfully","service":"media_service","timestamp":"2025-04-09T11:37:26.681Z"}
{"level":"info","message":"Request Method: POST, Request URL: /api/media/upload","service":"media_service","timestamp":"2025-04-09T11:53:23.106Z"}
{"level":"info","message":"Request body, undefined","service":"media_service","timestamp":"2025-04-09T11:53:23.107Z"}
{"level":"info","message":"User authenticated with ID: 67e2936d82da703079f674cc","service":"media_service","timestamp":"2025-04-09T11:53:23.108Z"}
{"level":"error","message":"Unknown error occured while uploading: Multipart: Boundary not found","service":"media_service","stack":"Error: Multipart: Boundary not found\n    at new Multipart (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\busboy\\lib\\types\\multipart.js:233:13)\n    at getInstance (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\busboy\\lib\\index.js:33:12)\n    at module.exports (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\busboy\\lib\\index.js:56:10)\n    at multerMiddleware (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\multer\\lib\\make-middleware.js:28:16)\n    at uploadMediaMiddleware (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\middlewares\\multer.js:20:5)\n    at Layer.handleRequest (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\router\\lib\\route.js:157:13)\n    at authenticateRequest (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\middlewares\\authmiddleware.js:13:5)\n    at Layer.handleRequest (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\router\\lib\\route.js:157:13)","timestamp":"2025-04-09T11:53:23.109Z"}
{"level":"info","message":"Request Method: POST, Request URL: /api/media/upload","service":"media_service","timestamp":"2025-04-09T11:54:02.892Z"}
{"level":"info","message":"Request body, undefined","service":"media_service","timestamp":"2025-04-09T11:54:02.893Z"}
{"level":"info","message":"User authenticated with ID: 67e2936d82da703079f674cc","service":"media_service","timestamp":"2025-04-09T11:54:02.893Z"}
{"level":"info","message":"uploading file  undefined type undefined","service":"media_service","timestamp":"2025-04-09T11:54:02.898Z"}
{"level":"info","message":"File uploading started","service":"media_service","timestamp":"2025-04-09T11:54:02.898Z"}
{"level":"error","message":"Error in uploading file uploadMediaToCloudinary is not a function","service":"media_service","stack":"TypeError: uploadMediaToCloudinary is not a function\n    at uploadmedia (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\controller\\media-controller.js:17:42)\n    at Layer.handleRequest (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\router\\lib\\route.js:157:13)\n    at E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\middlewares\\multer.js:43:9\n    at done (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\multer\\lib\\make-middleware.js:47:7)\n    at indicateDone (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\multer\\lib\\make-middleware.js:51:68)\n    at Multipart.<anonymous> (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\multer\\lib\\make-middleware.js:168:7)\n    at Multipart.emit (node:events:519:28)\n    at emitCloseNT (node:internal/streams/destroy:147:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:81:21)","timestamp":"2025-04-09T11:54:02.899Z"}
{"level":"info","message":"Request Method: POST, Request URL: /api/media/upload","service":"media_service","timestamp":"2025-04-09T11:58:32.395Z"}
{"level":"info","message":"Request body, undefined","service":"media_service","timestamp":"2025-04-09T11:58:32.395Z"}
{"level":"info","message":"User authenticated with ID: 67e2936d82da703079f674cc","service":"media_service","timestamp":"2025-04-09T11:58:32.396Z"}
{"level":"info","message":"uploading file  undefined type undefined","service":"media_service","timestamp":"2025-04-09T11:58:32.397Z"}
{"level":"info","message":"File uploading started","service":"media_service","timestamp":"2025-04-09T11:58:32.398Z"}
{"level":"error","message":"Error in uploading file uploadMediaToCloudinary is not a function","service":"media_service","stack":"TypeError: uploadMediaToCloudinary is not a function\n    at uploadmedia (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\controller\\media-controller.js:17:42)\n    at Layer.handleRequest (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\router\\lib\\route.js:157:13)\n    at E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\middlewares\\multer.js:43:9\n    at done (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\multer\\lib\\make-middleware.js:47:7)\n    at indicateDone (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\multer\\lib\\make-middleware.js:51:68)\n    at Multipart.<anonymous> (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\multer\\lib\\make-middleware.js:168:7)\n    at Multipart.emit (node:events:519:28)\n    at emitCloseNT (node:internal/streams/destroy:147:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:81:21)","timestamp":"2025-04-09T11:58:32.398Z"}
{"level":"info","message":"Server is running on port 3003","service":"media_service","timestamp":"2025-04-09T11:59:36.887Z"}
{"level":"info","message":"MongoDB connected successfully","service":"media_service","timestamp":"2025-04-09T11:59:39.991Z"}
{"level":"info","message":"Request Method: POST, Request URL: /api/media/upload","service":"media_service","timestamp":"2025-04-09T11:59:48.995Z"}
{"level":"info","message":"Request body, undefined","service":"media_service","timestamp":"2025-04-09T11:59:48.995Z"}
{"level":"info","message":"User authenticated with ID: 67e2936d82da703079f674cc","service":"media_service","timestamp":"2025-04-09T11:59:48.996Z"}
{"level":"info","message":"uploading file  undefined type undefined","service":"media_service","timestamp":"2025-04-09T11:59:49.004Z"}
{"level":"info","message":"File uploading started","service":"media_service","timestamp":"2025-04-09T11:59:49.004Z"}
{"level":"error","message":"Error in uploading file Must supply api_key","service":"media_service","stack":"Error: Must supply api_key\n    at ensureOption (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\ensureOption.js:19:13)\n    at Object.sign_request (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1164:16)\n    at Object.process_request_params (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1214:22)\n    at call_api (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:474:18)\n    at Object.upload (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:53:10)\n    at Object.upload_stream (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:40:18)\n    at Object.upload_stream (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1411:21)\n    at E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\utils\\cloudinary.js:12:50\n    at new Promise (<anonymous>)\n    at uploadmediaToCloudinary (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\utils\\cloudinary.js:11:12)","timestamp":"2025-04-09T11:59:49.007Z"}
{"level":"info","message":"Request Method: POST, Request URL: /api/media/upload","service":"media_service","timestamp":"2025-04-09T12:03:00.140Z"}
{"level":"info","message":"Request body, undefined","service":"media_service","timestamp":"2025-04-09T12:03:00.140Z"}
{"level":"info","message":"User authenticated with ID: 67e2936d82da703079f674cc","service":"media_service","timestamp":"2025-04-09T12:03:00.140Z"}
{"level":"info","message":"uploading file  undefined type undefined","service":"media_service","timestamp":"2025-04-09T12:03:00.142Z"}
{"level":"info","message":"File uploading started","service":"media_service","timestamp":"2025-04-09T12:03:00.143Z"}
{"level":"error","message":"Error in uploading file Must supply api_key","service":"media_service","stack":"Error: Must supply api_key\n    at ensureOption (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\ensureOption.js:19:13)\n    at Object.sign_request (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1164:16)\n    at Object.process_request_params (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1214:22)\n    at call_api (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:474:18)\n    at Object.upload (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:53:10)\n    at Object.upload_stream (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:40:18)\n    at Object.upload_stream (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1411:21)\n    at E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\utils\\cloudinary.js:12:50\n    at new Promise (<anonymous>)\n    at uploadmediaToCloudinary (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\utils\\cloudinary.js:11:12)","timestamp":"2025-04-09T12:03:00.143Z"}
{"level":"info","message":"Request Method: POST, Request URL: /api/media/upload","service":"media_service","timestamp":"2025-04-09T12:05:01.975Z"}
{"level":"info","message":"Request body, undefined","service":"media_service","timestamp":"2025-04-09T12:05:01.975Z"}
{"level":"info","message":"User authenticated with ID: 67e2936d82da703079f674cc","service":"media_service","timestamp":"2025-04-09T12:05:01.975Z"}
{"level":"info","message":"uploading file  undefined type undefined","service":"media_service","timestamp":"2025-04-09T12:05:01.977Z"}
{"level":"info","message":"File uploading started","service":"media_service","timestamp":"2025-04-09T12:05:01.977Z"}
{"level":"error","message":"Error in uploading file Must supply api_key","service":"media_service","stack":"Error: Must supply api_key\n    at ensureOption (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\ensureOption.js:19:13)\n    at Object.sign_request (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1164:16)\n    at Object.process_request_params (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1214:22)\n    at call_api (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:474:18)\n    at Object.upload (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:53:10)\n    at Object.upload_stream (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:40:18)\n    at Object.upload_stream (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1411:21)\n    at E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\utils\\cloudinary.js:12:50\n    at new Promise (<anonymous>)\n    at uploadmediaToCloudinary (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\utils\\cloudinary.js:11:12)","timestamp":"2025-04-09T12:05:01.977Z"}
{"level":"info","message":"Server is running on port 3003","service":"media_service","timestamp":"2025-04-09T12:13:23.615Z"}
{"level":"info","message":"MongoDB connected successfully","service":"media_service","timestamp":"2025-04-09T12:13:26.787Z"}
{"level":"info","message":"Request Method: POST, Request URL: /api/media/upload","service":"media_service","timestamp":"2025-04-09T12:13:26.974Z"}
{"level":"info","message":"Request body, undefined","service":"media_service","timestamp":"2025-04-09T12:13:26.975Z"}
{"level":"info","message":"User authenticated with ID: 67e2936d82da703079f674cc","service":"media_service","timestamp":"2025-04-09T12:13:26.976Z"}
{"level":"info","message":"uploading file  bill_img.jpg type image/jpeg","service":"media_service","timestamp":"2025-04-09T12:13:26.983Z"}
{"level":"info","message":"File uploading started","service":"media_service","timestamp":"2025-04-09T12:13:26.984Z"}
{"level":"error","message":"Error in uploading file Must supply api_key","service":"media_service","stack":"Error: Must supply api_key\n    at ensureOption (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\ensureOption.js:19:13)\n    at Object.sign_request (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1164:16)\n    at Object.process_request_params (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1214:22)\n    at call_api (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:474:18)\n    at Object.upload (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:53:10)\n    at Object.upload_stream (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:40:18)\n    at Object.upload_stream (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1411:21)\n    at E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\utils\\cloudinary.js:14:50\n    at new Promise (<anonymous>)\n    at uploadmediaToCloudinary (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\utils\\cloudinary.js:13:12)","timestamp":"2025-04-09T12:13:26.987Z"}
{"level":"info","message":"Request Method: POST, Request URL: /api/media/upload","service":"media_service","timestamp":"2025-04-09T12:18:50.170Z"}
{"level":"info","message":"Request body, undefined","service":"media_service","timestamp":"2025-04-09T12:18:50.171Z"}
{"level":"info","message":"User authenticated with ID: 67e2936d82da703079f674cc","service":"media_service","timestamp":"2025-04-09T12:18:50.171Z"}
{"level":"info","message":"uploading file  bill_img.jpg type image/jpeg","service":"media_service","timestamp":"2025-04-09T12:18:50.174Z"}
{"level":"info","message":"File uploading started","service":"media_service","timestamp":"2025-04-09T12:18:50.174Z"}
{"level":"error","message":"Error in uploading file Must supply api_key","service":"media_service","stack":"Error: Must supply api_key\n    at ensureOption (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\ensureOption.js:19:13)\n    at Object.sign_request (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1164:16)\n    at Object.process_request_params (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1214:22)\n    at call_api (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:474:18)\n    at Object.upload (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:53:10)\n    at Object.upload_stream (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:40:18)\n    at Object.upload_stream (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1411:21)\n    at E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\utils\\cloudinary.js:14:50\n    at new Promise (<anonymous>)\n    at uploadmediaToCloudinary (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\utils\\cloudinary.js:13:12)","timestamp":"2025-04-09T12:18:50.175Z"}
{"level":"info","message":"Request Method: POST, Request URL: /api/media/upload","service":"media_service","timestamp":"2025-04-09T12:20:14.978Z"}
{"level":"info","message":"Request body, undefined","service":"media_service","timestamp":"2025-04-09T12:20:14.978Z"}
{"level":"info","message":"User authenticated with ID: 67e2936d82da703079f674cc","service":"media_service","timestamp":"2025-04-09T12:20:14.979Z"}
{"level":"info","message":"uploading file  bill_img.jpg type image/jpeg","service":"media_service","timestamp":"2025-04-09T12:20:14.981Z"}
{"level":"info","message":"File uploading started","service":"media_service","timestamp":"2025-04-09T12:20:14.981Z"}
{"level":"error","message":"Error in uploading file Must supply api_key","service":"media_service","stack":"Error: Must supply api_key\n    at ensureOption (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\ensureOption.js:19:13)\n    at Object.sign_request (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1164:16)\n    at Object.process_request_params (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1214:22)\n    at call_api (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:474:18)\n    at Object.upload (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:53:10)\n    at Object.upload_stream (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:40:18)\n    at Object.upload_stream (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1411:21)\n    at E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\utils\\cloudinary.js:14:50\n    at new Promise (<anonymous>)\n    at uploadmediaToCloudinary (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\utils\\cloudinary.js:13:12)","timestamp":"2025-04-09T12:20:14.981Z"}
{"level":"info","message":"Request Method: POST, Request URL: /api/media/upload","service":"media_service","timestamp":"2025-04-09T12:41:23.448Z"}
{"level":"info","message":"Request body, undefined","service":"media_service","timestamp":"2025-04-09T12:41:23.448Z"}
{"level":"info","message":"User authenticated with ID: 67e2936d82da703079f674cc","service":"media_service","timestamp":"2025-04-09T12:41:23.448Z"}
{"level":"info","message":"uploading file  bill_img.jpg type image/jpeg","service":"media_service","timestamp":"2025-04-09T12:41:23.450Z"}
{"level":"info","message":"File uploading started","service":"media_service","timestamp":"2025-04-09T12:41:23.450Z"}
{"level":"error","message":"Error in uploading file Must supply api_key","service":"media_service","stack":"Error: Must supply api_key\n    at ensureOption (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\ensureOption.js:19:13)\n    at Object.sign_request (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1164:16)\n    at Object.process_request_params (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1214:22)\n    at call_api (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:474:18)\n    at Object.upload (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:53:10)\n    at Object.upload_stream (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:40:18)\n    at Object.upload_stream (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1411:21)\n    at E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\utils\\cloudinary.js:14:50\n    at new Promise (<anonymous>)\n    at uploadmediaToCloudinary (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\utils\\cloudinary.js:13:12)","timestamp":"2025-04-09T12:41:23.451Z"}
{"level":"info","message":"Server is running on port 3003","service":"media_service","timestamp":"2025-04-09T12:42:31.185Z"}
{"level":"info","message":"MongoDB connected successfully","service":"media_service","timestamp":"2025-04-09T12:42:34.027Z"}
{"level":"info","message":"Request Method: POST, Request URL: /api/media/upload","service":"media_service","timestamp":"2025-04-09T12:42:48.769Z"}
{"level":"info","message":"Request body, undefined","service":"media_service","timestamp":"2025-04-09T12:42:48.770Z"}
{"level":"info","message":"User authenticated with ID: 67e2936d82da703079f674cc","service":"media_service","timestamp":"2025-04-09T12:42:48.770Z"}
{"level":"info","message":"uploading file  bill_img.jpg type image/jpeg","service":"media_service","timestamp":"2025-04-09T12:42:48.777Z"}
{"level":"info","message":"File uploading started","service":"media_service","timestamp":"2025-04-09T12:42:48.778Z"}
{"level":"info","message":"File","service":"media_service","timestamp":"2025-04-09T12:42:48.779Z"}
{"level":"error","message":"Error in uploading file Must supply api_key","service":"media_service","stack":"Error: Must supply api_key\n    at ensureOption (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\ensureOption.js:19:13)\n    at Object.sign_request (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1164:16)\n    at Object.process_request_params (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1214:22)\n    at call_api (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:474:18)\n    at Object.upload (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:53:10)\n    at Object.upload_stream (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:40:18)\n    at Object.upload_stream (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1411:21)\n    at E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\utils\\cloudinary.js:22:50\n    at new Promise (<anonymous>)\n    at uploadmediaToCloudinary (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\utils\\cloudinary.js:21:12)","timestamp":"2025-04-09T12:42:48.782Z"}
{"level":"info","message":"Request Method: POST, Request URL: /api/media/upload","service":"media_service","timestamp":"2025-04-09T12:44:15.154Z"}
{"level":"info","message":"Request body, undefined","service":"media_service","timestamp":"2025-04-09T12:44:15.155Z"}
{"level":"info","message":"User authenticated with ID: 67e2936d82da703079f674cc","service":"media_service","timestamp":"2025-04-09T12:44:15.155Z"}
{"level":"info","message":"uploading file  bill_img.jpg type image/jpeg","service":"media_service","timestamp":"2025-04-09T12:44:15.158Z"}
{"level":"info","message":"File uploading started","service":"media_service","timestamp":"2025-04-09T12:44:15.158Z"}
{"level":"info","message":"File","service":"media_service","timestamp":"2025-04-09T12:44:15.159Z"}
{"level":"error","message":"Error in uploading file Must supply api_key","service":"media_service","stack":"Error: Must supply api_key\n    at ensureOption (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\ensureOption.js:19:13)\n    at Object.sign_request (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1164:16)\n    at Object.process_request_params (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1214:22)\n    at call_api (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:474:18)\n    at Object.upload (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:53:10)\n    at Object.upload_stream (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:40:18)\n    at Object.upload_stream (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1411:21)\n    at E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\utils\\cloudinary.js:22:50\n    at new Promise (<anonymous>)\n    at uploadmediaToCloudinary (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\utils\\cloudinary.js:21:12)","timestamp":"2025-04-09T12:44:15.159Z"}
{"level":"info","message":"Request Method: POST, Request URL: /api/media/upload","service":"media_service","timestamp":"2025-04-09T12:48:44.340Z"}
{"level":"info","message":"Request body, undefined","service":"media_service","timestamp":"2025-04-09T12:48:44.341Z"}
{"level":"info","message":"User authenticated with ID: 67e2936d82da703079f674cc","service":"media_service","timestamp":"2025-04-09T12:48:44.341Z"}
{"level":"info","message":"uploading file  bill_img.jpg type image/jpeg","service":"media_service","timestamp":"2025-04-09T12:48:44.343Z"}
{"level":"info","message":"File uploading started","service":"media_service","timestamp":"2025-04-09T12:48:44.344Z"}
{"level":"info","message":"File","service":"media_service","timestamp":"2025-04-09T12:48:44.344Z"}
{"level":"error","message":"Error in uploading file Must supply api_key","service":"media_service","stack":"Error: Must supply api_key\n    at ensureOption (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\ensureOption.js:19:13)\n    at Object.sign_request (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1164:16)\n    at Object.process_request_params (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1214:22)\n    at call_api (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:474:18)\n    at Object.upload (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:53:10)\n    at Object.upload_stream (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:40:18)\n    at Object.upload_stream (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1411:21)\n    at E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\utils\\cloudinary.js:22:50\n    at new Promise (<anonymous>)\n    at uploadmediaToCloudinary (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\utils\\cloudinary.js:21:12)","timestamp":"2025-04-09T12:48:44.345Z"}
{"level":"info","message":"Request Method: POST, Request URL: /api/media/upload","service":"media_service","timestamp":"2025-04-09T12:55:50.080Z"}
{"level":"info","message":"Request body, undefined","service":"media_service","timestamp":"2025-04-09T12:55:50.080Z"}
{"level":"info","message":"User authenticated with ID: 67e2936d82da703079f674cc","service":"media_service","timestamp":"2025-04-09T12:55:50.081Z"}
{"level":"info","message":"uploading file  bill_img.jpg type image/jpeg","service":"media_service","timestamp":"2025-04-09T12:55:50.083Z"}
{"level":"info","message":"File uploading started","service":"media_service","timestamp":"2025-04-09T12:55:50.083Z"}
{"level":"info","message":"File","service":"media_service","timestamp":"2025-04-09T12:55:50.083Z"}
{"level":"error","message":"Error in uploading file Must supply api_key","service":"media_service","stack":"Error: Must supply api_key\n    at ensureOption (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\ensureOption.js:19:13)\n    at Object.sign_request (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1164:16)\n    at Object.process_request_params (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1214:22)\n    at call_api (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:474:18)\n    at Object.upload (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:53:10)\n    at Object.upload_stream (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:40:18)\n    at Object.upload_stream (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1411:21)\n    at E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\utils\\cloudinary.js:22:50\n    at new Promise (<anonymous>)\n    at uploadmediaToCloudinary (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\utils\\cloudinary.js:21:12)","timestamp":"2025-04-09T12:55:50.083Z"}
{"level":"info","message":"Server is running on port 3003","service":"media_service","timestamp":"2025-04-09T12:56:28.563Z"}
{"level":"info","message":"MongoDB connected successfully","service":"media_service","timestamp":"2025-04-09T12:56:31.589Z"}
{"level":"info","message":"Request Method: POST, Request URL: /api/media/upload","service":"media_service","timestamp":"2025-04-09T12:56:35.853Z"}
{"level":"info","message":"Request body, undefined","service":"media_service","timestamp":"2025-04-09T12:56:35.853Z"}
{"level":"info","message":"User authenticated with ID: 67e2936d82da703079f674cc","service":"media_service","timestamp":"2025-04-09T12:56:35.855Z"}
{"level":"info","message":"uploading file  bill_img.jpg type image/jpeg","service":"media_service","timestamp":"2025-04-09T12:56:35.863Z"}
{"level":"info","message":"File uploading started","service":"media_service","timestamp":"2025-04-09T12:56:35.863Z"}
{"level":"info","message":"File","service":"media_service","timestamp":"2025-04-09T12:56:35.864Z"}
{"level":"error","message":"Error in uploading file Must supply api_key","service":"media_service","stack":"Error: Must supply api_key\n    at ensureOption (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\ensureOption.js:19:13)\n    at Object.sign_request (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1164:16)\n    at Object.process_request_params (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1214:22)\n    at call_api (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:474:18)\n    at Object.upload (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:53:10)\n    at Object.upload_stream (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:40:18)\n    at Object.upload_stream (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1411:21)\n    at E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\utils\\cloudinary.js:23:50\n    at new Promise (<anonymous>)\n    at uploadmediaToCloudinary (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\utils\\cloudinary.js:22:12)","timestamp":"2025-04-09T12:56:35.868Z"}
{"level":"info","message":"Request Method: POST, Request URL: /api/media/upload","service":"media_service","timestamp":"2025-04-09T13:01:39.747Z"}
{"level":"info","message":"Request body, undefined","service":"media_service","timestamp":"2025-04-09T13:01:39.748Z"}
{"level":"info","message":"User authenticated with ID: 67e2936d82da703079f674cc","service":"media_service","timestamp":"2025-04-09T13:01:39.748Z"}
{"level":"info","message":"uploading file  bill_img.jpg type image/jpeg","service":"media_service","timestamp":"2025-04-09T13:01:39.750Z"}
{"level":"info","message":"File uploading started","service":"media_service","timestamp":"2025-04-09T13:01:39.750Z"}
{"level":"info","message":"File","service":"media_service","timestamp":"2025-04-09T13:01:39.750Z"}
{"level":"error","message":"Error in uploading file Must supply api_key","service":"media_service","stack":"Error: Must supply api_key\n    at ensureOption (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\ensureOption.js:19:13)\n    at Object.sign_request (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1164:16)\n    at Object.process_request_params (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1214:22)\n    at call_api (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:474:18)\n    at Object.upload (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:53:10)\n    at Object.upload_stream (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:40:18)\n    at Object.upload_stream (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1411:21)\n    at E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\utils\\cloudinary.js:23:50\n    at new Promise (<anonymous>)\n    at uploadmediaToCloudinary (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\utils\\cloudinary.js:22:12)","timestamp":"2025-04-09T13:01:39.751Z"}
{"level":"info","message":"Request Method: POST, Request URL: /api/media/upload","service":"media_service","timestamp":"2025-04-09T13:02:56.754Z"}
{"level":"info","message":"Request body, undefined","service":"media_service","timestamp":"2025-04-09T13:02:56.755Z"}
{"level":"info","message":"User authenticated with ID: 67e2936d82da703079f674cc","service":"media_service","timestamp":"2025-04-09T13:02:56.755Z"}
{"level":"info","message":"uploading file  bill_img.jpg type image/jpeg","service":"media_service","timestamp":"2025-04-09T13:02:56.757Z"}
{"level":"info","message":"File uploading started","service":"media_service","timestamp":"2025-04-09T13:02:56.758Z"}
{"level":"info","message":"File","service":"media_service","timestamp":"2025-04-09T13:02:56.758Z"}
{"level":"error","message":"Error in uploading file Must supply api_key","service":"media_service","stack":"Error: Must supply api_key\n    at ensureOption (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\ensureOption.js:19:13)\n    at Object.sign_request (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1164:16)\n    at Object.process_request_params (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1214:22)\n    at call_api (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:474:18)\n    at Object.upload (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:53:10)\n    at Object.upload_stream (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:40:18)\n    at Object.upload_stream (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1411:21)\n    at E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\utils\\cloudinary.js:23:50\n    at new Promise (<anonymous>)\n    at uploadmediaToCloudinary (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\utils\\cloudinary.js:22:12)","timestamp":"2025-04-09T13:02:56.760Z"}
{"level":"info","message":"Server is running on port 3003","service":"media_service","timestamp":"2025-04-09T13:03:09.120Z"}
{"level":"info","message":"MongoDB connected successfully","service":"media_service","timestamp":"2025-04-09T13:03:12.336Z"}
{"level":"info","message":"Request Method: POST, Request URL: /api/media/upload","service":"media_service","timestamp":"2025-04-09T13:03:16.496Z"}
{"level":"info","message":"Request body, undefined","service":"media_service","timestamp":"2025-04-09T13:03:16.499Z"}
{"level":"info","message":"User authenticated with ID: 67e2936d82da703079f674cc","service":"media_service","timestamp":"2025-04-09T13:03:16.500Z"}
{"level":"info","message":"uploading file  bill_img.jpg type image/jpeg","service":"media_service","timestamp":"2025-04-09T13:03:16.515Z"}
{"level":"info","message":"File uploading started","service":"media_service","timestamp":"2025-04-09T13:03:16.516Z"}
{"level":"info","message":"File","service":"media_service","timestamp":"2025-04-09T13:03:16.518Z"}
{"level":"error","message":"Error in uploading file Must supply api_key","service":"media_service","stack":"Error: Must supply api_key\n    at ensureOption (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\ensureOption.js:19:13)\n    at Object.sign_request (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1164:16)\n    at Object.process_request_params (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1214:22)\n    at call_api (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:474:18)\n    at Object.upload (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:53:10)\n    at Object.upload_stream (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:40:18)\n    at Object.upload_stream (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1411:21)\n    at E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\utils\\cloudinary.js:12:46\n    at new Promise (<anonymous>)\n    at uploadMediaToCloudinary (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\utils\\cloudinary.js:11:10)","timestamp":"2025-04-09T13:03:16.524Z"}
{"level":"info","message":"Server is running on port 3003","service":"media_service","timestamp":"2025-04-09T13:05:31.181Z"}
{"level":"info","message":"MongoDB connected successfully","service":"media_service","timestamp":"2025-04-09T13:05:34.197Z"}
{"level":"info","message":"Request Method: POST, Request URL: /api/media/upload","service":"media_service","timestamp":"2025-04-09T13:05:36.780Z"}
{"level":"info","message":"Request body, undefined","service":"media_service","timestamp":"2025-04-09T13:05:36.781Z"}
{"level":"info","message":"User authenticated with ID: 67e2936d82da703079f674cc","service":"media_service","timestamp":"2025-04-09T13:05:36.782Z"}
{"level":"info","message":"Starting media upload","service":"media_service","timestamp":"2025-04-09T13:05:36.788Z"}
{"level":"info","message":"File details: name=bill_img.jpg, type=image/jpeg","service":"media_service","timestamp":"2025-04-09T13:05:36.791Z"}
{"level":"info","message":"Uploading to cloudinary starting...","service":"media_service","timestamp":"2025-04-09T13:05:36.791Z"}
{"level":"error","message":"Error creating media Must supply api_key","service":"media_service","stack":"Error: Must supply api_key\n    at ensureOption (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\ensureOption.js:19:13)\n    at Object.sign_request (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1164:16)\n    at Object.process_request_params (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1214:22)\n    at call_api (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:474:18)\n    at Object.upload (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:53:10)\n    at Object.upload_stream (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:40:18)\n    at Object.upload_stream (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1411:21)\n    at E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\utils\\cloudinary.js:12:46\n    at new Promise (<anonymous>)\n    at uploadMediaToCloudinary (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\utils\\cloudinary.js:11:10)","timestamp":"2025-04-09T13:05:36.795Z"}
{"level":"info","message":"Server is running on port 3003","service":"media_service","timestamp":"2025-04-09T13:07:58.966Z"}
{"level":"info","message":"MongoDB connected successfully","service":"media_service","timestamp":"2025-04-09T13:08:02.255Z"}
{"level":"info","message":"Request Method: POST, Request URL: /api/media/upload","service":"media_service","timestamp":"2025-04-09T13:10:52.772Z"}
{"level":"info","message":"Request body, undefined","service":"media_service","timestamp":"2025-04-09T13:10:52.772Z"}
{"level":"info","message":"User authenticated with ID: 67e2936d82da703079f674cc","service":"media_service","timestamp":"2025-04-09T13:10:52.773Z"}
{"level":"info","message":"Starting media upload","service":"media_service","timestamp":"2025-04-09T13:10:52.779Z"}
{"level":"info","message":"File details: name=bill_img.jpg, type=image/jpeg","service":"media_service","timestamp":"2025-04-09T13:10:52.781Z"}
{"level":"info","message":"Uploading to cloudinary starting...","service":"media_service","timestamp":"2025-04-09T13:10:52.781Z"}
{"level":"error","message":"Error creating media Must supply api_key","service":"media_service","stack":"Error: Must supply api_key\n    at ensureOption (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\ensureOption.js:19:13)\n    at Object.sign_request (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1164:16)\n    at Object.process_request_params (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1214:22)\n    at call_api (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:474:18)\n    at Object.upload (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:53:10)\n    at Object.upload_stream (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:40:18)\n    at Object.upload_stream (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1411:21)\n    at E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\utils\\cloudinary.js:12:46\n    at new Promise (<anonymous>)\n    at uploadMediaToCloudinary (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\utils\\cloudinary.js:11:10)","timestamp":"2025-04-09T13:10:52.784Z"}
{"level":"info","message":"Request Method: POST, Request URL: /api/media/upload","service":"media_service","timestamp":"2025-04-09T13:11:40.406Z"}
{"level":"info","message":"Request body, undefined","service":"media_service","timestamp":"2025-04-09T13:11:40.409Z"}
{"level":"info","message":"User authenticated with ID: 67e2936d82da703079f674cc","service":"media_service","timestamp":"2025-04-09T13:11:40.410Z"}
{"level":"info","message":"Starting media upload","service":"media_service","timestamp":"2025-04-09T13:11:40.411Z"}
{"level":"info","message":"File details: name=bill_img.jpg, type=image/jpeg","service":"media_service","timestamp":"2025-04-09T13:11:40.412Z"}
{"level":"info","message":"Uploading to cloudinary starting...","service":"media_service","timestamp":"2025-04-09T13:11:40.412Z"}
{"level":"error","message":"Error creating media Must supply api_key","service":"media_service","stack":"Error: Must supply api_key\n    at ensureOption (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\ensureOption.js:19:13)\n    at Object.sign_request (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1164:16)\n    at Object.process_request_params (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1214:22)\n    at call_api (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:474:18)\n    at Object.upload (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:53:10)\n    at Object.upload_stream (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:40:18)\n    at Object.upload_stream (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1411:21)\n    at E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\utils\\cloudinary.js:12:46\n    at new Promise (<anonymous>)\n    at uploadMediaToCloudinary (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\utils\\cloudinary.js:11:10)","timestamp":"2025-04-09T13:11:40.413Z"}
{"level":"info","message":"Server is running on port 3003","service":"media_service","timestamp":"2025-04-09T13:12:57.583Z"}
{"level":"info","message":"MongoDB connected successfully","service":"media_service","timestamp":"2025-04-09T13:13:00.720Z"}
{"level":"info","message":"Request Method: POST, Request URL: /api/media/upload","service":"media_service","timestamp":"2025-04-09T13:13:03.974Z"}
{"level":"info","message":"Request body, undefined","service":"media_service","timestamp":"2025-04-09T13:13:03.975Z"}
{"level":"info","message":"User authenticated with ID: 67e2936d82da703079f674cc","service":"media_service","timestamp":"2025-04-09T13:13:03.976Z"}
{"level":"info","message":"Starting media upload","service":"media_service","timestamp":"2025-04-09T13:13:03.982Z"}
{"level":"info","message":"File details: name=bill_img.jpg, type=image/jpeg","service":"media_service","timestamp":"2025-04-09T13:13:03.984Z"}
{"level":"info","message":"Uploading to cloudinary starting...","service":"media_service","timestamp":"2025-04-09T13:13:03.985Z"}
{"level":"error","message":"Error creating media Must supply api_secret","service":"media_service","stack":"Error: Must supply api_secret\n    at ensureOption (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\ensureOption.js:19:13)\n    at Object.sign_request (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1165:19)\n    at Object.process_request_params (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1214:22)\n    at call_api (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:474:18)\n    at Object.upload (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:53:10)\n    at Object.upload_stream (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:40:18)\n    at Object.upload_stream (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1411:21)\n    at E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\utils\\cloudinary.js:12:46\n    at new Promise (<anonymous>)\n    at uploadMediaToCloudinary (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\utils\\cloudinary.js:11:10)","timestamp":"2025-04-09T13:13:03.989Z"}
{"level":"info","message":"Server is running on port 3003","service":"media_service","timestamp":"2025-04-10T06:28:50.595Z"}
{"errorLabelSet":{},"level":"error","message":"Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/","reason":{"commonWireVersion":0,"compatible":true,"heartbeatFrequencyMS":10000,"localThresholdMS":15,"logicalSessionTimeoutMinutes":null,"maxElectionId":null,"maxSetVersion":null,"servers":{"smm-db-shard-00-00.otwoh.mongodb.net:27017":{"$clusterTime":null,"address":"smm-db-shard-00-00.otwoh.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":1126634380,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"smm-db-shard-00-01.otwoh.mongodb.net:27017":{"$clusterTime":null,"address":"smm-db-shard-00-01.otwoh.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":1126634601,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"},"smm-db-shard-00-02.otwoh.mongodb.net:27017":{"$clusterTime":null,"address":"smm-db-shard-00-02.otwoh.mongodb.net:27017","arbiters":[],"electionId":null,"error":{"beforeHandshake":false,"errorLabelSet":{}},"hosts":[],"iscryptd":false,"lastUpdateTime":1126634381,"lastWriteDate":0,"logicalSessionTimeoutMinutes":null,"maxBsonObjectSize":null,"maxMessageSizeBytes":null,"maxWireVersion":0,"maxWriteBatchSize":null,"me":null,"minRoundTripTime":0,"minWireVersion":0,"passives":[],"primary":null,"roundTripTime":-1,"setName":null,"setVersion":null,"tags":{},"topologyVersion":null,"type":"Unknown"}},"setName":"atlas-n52hjf-shard-0","stale":false,"type":"ReplicaSetNoPrimary"},"service":"media_service","stack":"MongooseServerSelectionError: Could not connect to any servers in your MongoDB Atlas cluster. One common reason is that you're trying to access the database from an IP that isn't whitelisted. Make sure your current IP address is on your Atlas cluster's IP whitelist: https://www.mongodb.com/docs/atlas/security-whitelist/\n    at _handleConnectionErrors (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\mongoose\\lib\\connection.js:1165:11)\n    at NativeConnection.openUri (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\mongoose\\lib\\connection.js:1096:11)","timestamp":"2025-04-10T06:29:20.670Z"}
{"level":"info","message":"Server is running on port 3003","service":"media_service","timestamp":"2025-04-10T06:30:31.861Z"}
{"level":"info","message":"MongoDB connected successfully","service":"media_service","timestamp":"2025-04-10T06:30:32.454Z"}
{"level":"info","message":"Request Method: POST, Request URL: /api/media/upload","service":"media_service","timestamp":"2025-04-10T06:37:33.232Z"}
{"level":"info","message":"Request body, undefined","service":"media_service","timestamp":"2025-04-10T06:37:33.233Z"}
{"level":"info","message":"User authenticated with ID: 67e2936d82da703079f674cc","service":"media_service","timestamp":"2025-04-10T06:37:33.234Z"}
{"level":"info","message":"Starting media upload","service":"media_service","timestamp":"2025-04-10T06:37:33.239Z"}
{"level":"info","message":"File details: name=bill_img.jpg, type=image/jpeg","service":"media_service","timestamp":"2025-04-10T06:37:33.242Z"}
{"level":"info","message":"Uploading to cloudinary starting...","service":"media_service","timestamp":"2025-04-10T06:37:33.242Z"}
{"level":"error","message":"Error creating media Must supply api_secret","service":"media_service","stack":"Error: Must supply api_secret\n    at ensureOption (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\ensureOption.js:19:13)\n    at Object.sign_request (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1165:19)\n    at Object.process_request_params (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1214:22)\n    at call_api (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:474:18)\n    at Object.upload (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:53:10)\n    at Object.upload_stream (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:40:18)\n    at Object.upload_stream (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1411:21)\n    at E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\utils\\cloudinary.js:12:46\n    at new Promise (<anonymous>)\n    at uploadMediaToCloudinary (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\utils\\cloudinary.js:11:10)","timestamp":"2025-04-10T06:37:33.244Z"}
{"level":"info","message":"Server is running on port 3003","service":"media_service","timestamp":"2025-04-10T06:40:02.315Z"}
{"level":"info","message":"MongoDB connected successfully","service":"media_service","timestamp":"2025-04-10T06:40:03.276Z"}
{"level":"info","message":"Request Method: POST, Request URL: /api/media/upload","service":"media_service","timestamp":"2025-04-10T06:40:54.559Z"}
{"level":"info","message":"Request body, undefined","service":"media_service","timestamp":"2025-04-10T06:40:54.561Z"}
{"level":"info","message":"User authenticated with ID: 67e2936d82da703079f674cc","service":"media_service","timestamp":"2025-04-10T06:40:54.561Z"}
{"level":"info","message":"Starting media upload","service":"media_service","timestamp":"2025-04-10T06:40:54.567Z"}
{"level":"info","message":"File details: name=bill_img.jpg, type=image/jpeg","service":"media_service","timestamp":"2025-04-10T06:40:54.570Z"}
{"level":"info","message":"Uploading to cloudinary starting...","service":"media_service","timestamp":"2025-04-10T06:40:54.571Z"}
{"level":"error","message":"Error creating media Must supply api_key","service":"media_service","stack":"Error: Must supply api_key\n    at ensureOption (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\ensureOption.js:19:13)\n    at Object.sign_request (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1164:16)\n    at Object.process_request_params (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1214:22)\n    at call_api (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:474:18)\n    at Object.upload (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:53:10)\n    at Object.upload_stream (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:40:18)\n    at Object.upload_stream (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1411:21)\n    at E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\utils\\cloudinary.js:12:46\n    at new Promise (<anonymous>)\n    at uploadMediaToCloudinary (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\utils\\cloudinary.js:11:10)","timestamp":"2025-04-10T06:40:54.573Z"}
{"level":"info","message":"Server is running on port 3003","service":"media_service","timestamp":"2025-04-10T06:42:11.292Z"}
{"level":"info","message":"MongoDB connected successfully","service":"media_service","timestamp":"2025-04-10T06:42:12.114Z"}
{"level":"info","message":"Server is running on port 3003","service":"media_service","timestamp":"2025-04-10T06:42:15.783Z"}
{"level":"info","message":"MongoDB connected successfully","service":"media_service","timestamp":"2025-04-10T06:42:16.472Z"}
{"level":"info","message":"Server is running on port 3003","service":"media_service","timestamp":"2025-04-10T06:42:38.487Z"}
{"level":"info","message":"MongoDB connected successfully","service":"media_service","timestamp":"2025-04-10T06:42:39.617Z"}
{"level":"info","message":"Server is running on port 3003","service":"media_service","timestamp":"2025-04-10T06:42:50.761Z"}
{"level":"info","message":"MongoDB connected successfully","service":"media_service","timestamp":"2025-04-10T06:42:51.513Z"}
{"level":"info","message":"Server is running on port 3003","service":"media_service","timestamp":"2025-04-10T06:42:56.068Z"}
{"level":"info","message":"MongoDB connected successfully","service":"media_service","timestamp":"2025-04-10T06:42:57.042Z"}
{"level":"info","message":"Request Method: POST, Request URL: /api/media/upload","service":"media_service","timestamp":"2025-04-10T06:43:06.526Z"}
{"level":"info","message":"Request body, undefined","service":"media_service","timestamp":"2025-04-10T06:43:06.526Z"}
{"level":"info","message":"User authenticated with ID: 67e2936d82da703079f674cc","service":"media_service","timestamp":"2025-04-10T06:43:06.527Z"}
{"level":"info","message":"Starting media upload","service":"media_service","timestamp":"2025-04-10T06:43:06.533Z"}
{"level":"info","message":"File details: name=bill_img.jpg, type=image/jpeg","service":"media_service","timestamp":"2025-04-10T06:43:06.535Z"}
{"level":"info","message":"Uploading to cloudinary starting...","service":"media_service","timestamp":"2025-04-10T06:43:06.536Z"}
{"level":"error","message":"Error creating media Must supply api_key","service":"media_service","stack":"Error: Must supply api_key\n    at ensureOption (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\ensureOption.js:19:13)\n    at Object.sign_request (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1164:16)\n    at Object.process_request_params (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1214:22)\n    at call_api (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:474:18)\n    at Object.upload (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:53:10)\n    at Object.upload_stream (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\uploader.js:40:18)\n    at Object.upload_stream (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\cloudinary\\lib\\utils\\index.js:1411:21)\n    at E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\utils\\cloudinary.js:15:46\n    at new Promise (<anonymous>)\n    at uploadMediaToCloudinary (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\utils\\cloudinary.js:13:10)","timestamp":"2025-04-10T06:43:06.539Z"}
{"level":"info","message":"Server is running on port 3003","service":"media_service","timestamp":"2025-04-10T06:43:26.046Z"}
{"level":"info","message":"Server is running on port 3003","service":"media_service","timestamp":"2025-04-10T06:43:27.696Z"}
{"level":"info","message":"MongoDB connected successfully","service":"media_service","timestamp":"2025-04-10T06:43:28.483Z"}
{"level":"info","message":"Request Method: POST, Request URL: /api/media/upload","service":"media_service","timestamp":"2025-04-10T06:43:33.600Z"}
{"level":"info","message":"Request body, undefined","service":"media_service","timestamp":"2025-04-10T06:43:33.601Z"}
{"level":"info","message":"User authenticated with ID: 67e2936d82da703079f674cc","service":"media_service","timestamp":"2025-04-10T06:43:33.602Z"}
{"level":"info","message":"Starting media upload","service":"media_service","timestamp":"2025-04-10T06:43:33.608Z"}
{"level":"info","message":"File details: name=bill_img.jpg, type=image/jpeg","service":"media_service","timestamp":"2025-04-10T06:43:33.611Z"}
{"level":"info","message":"Uploading to cloudinary starting...","service":"media_service","timestamp":"2025-04-10T06:43:33.611Z"}
{"level":"info","message":"Cloudinary upload successfully. Public Id: - r1jpjd9dqu2vjbtzc3w6","service":"media_service","timestamp":"2025-04-10T06:43:36.760Z"}
{"level":"error","message":"Error creating media Media is not a constructor","service":"media_service","stack":"TypeError: Media is not a constructor\n    at uploadMedia (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\controller\\media-controller.js:30:33)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-04-10T06:43:36.761Z"}
{"level":"info","message":"Server is running on port 3003","service":"media_service","timestamp":"2025-04-10T06:54:14.274Z"}
{"level":"info","message":"MongoDB connected successfully","service":"media_service","timestamp":"2025-04-10T06:54:15.384Z"}
{"level":"info","message":"Request Method: POST, Request URL: /api/media/upload","service":"media_service","timestamp":"2025-04-10T06:54:19.917Z"}
{"level":"info","message":"Request body, undefined","service":"media_service","timestamp":"2025-04-10T06:54:19.918Z"}
{"level":"info","message":"User authenticated with ID: 67e2936d82da703079f674cc","service":"media_service","timestamp":"2025-04-10T06:54:19.919Z"}
{"level":"info","message":"Starting media upload","service":"media_service","timestamp":"2025-04-10T06:54:19.924Z"}
{"level":"info","message":"File details: name=bill_img.jpg, type=image/jpeg","service":"media_service","timestamp":"2025-04-10T06:54:19.927Z"}
{"level":"info","message":"Uploading to cloudinary starting...","service":"media_service","timestamp":"2025-04-10T06:54:19.927Z"}
{"level":"info","message":"Cloudinary upload successfully. Public Id: - hfmlqyzyihv6toy3hs0h","service":"media_service","timestamp":"2025-04-10T06:54:22.323Z"}
{"level":"info","message":"Server is running on port 3003","service":"media_service","timestamp":"2025-04-10T07:35:53.296Z"}
{"level":"info","message":"MongoDB connected successfully","service":"media_service","timestamp":"2025-04-10T07:35:54.342Z"}
{"level":"info","message":"Connected to RabbitMQ successfully","service":"media_service","timestamp":"2025-04-13T11:49:11.985Z"}
{"level":"error","message":"Error connecting to RabbitMQ: Cannot read properties of null (reading 'assertQueue')","service":"media_service","stack":"TypeError: Cannot read properties of null (reading 'assertQueue')\n    at consumeFromQueue (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\utils\\rabbitmq.js:37:29)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async startserver (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\server.js:41:9)","timestamp":"2025-04-13T11:49:11.994Z"}
{"level":"info","message":"MongoDB connected successfully","service":"media_service","timestamp":"2025-04-13T11:49:15.035Z"}
{"level":"info","message":"Connected to RabbitMQ successfully","service":"media_service","timestamp":"2025-04-13T11:51:04.673Z"}
{"level":"error","message":"Error connecting to RabbitMQ: Cannot read properties of null (reading 'assertQueue')","service":"media_service","stack":"TypeError: Cannot read properties of null (reading 'assertQueue')\n    at consumeFromQueue (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\utils\\rabbitmq.js:37:29)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async startserver (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\server.js:41:9)","timestamp":"2025-04-13T11:51:04.681Z"}
{"level":"info","message":"MongoDB connected successfully","service":"media_service","timestamp":"2025-04-13T11:51:07.533Z"}
{"level":"info","message":"Connected to RabbitMQ successfully","service":"media_service","timestamp":"2025-04-13T11:54:39.196Z"}
{"level":"error","message":"Error connecting to RabbitMQ: Cannot read properties of null (reading 'assertQueue')","service":"media_service","stack":"TypeError: Cannot read properties of null (reading 'assertQueue')\n    at consumeFromQueue (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\utils\\rabbitmq.js:37:29)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async startserver (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\server.js:41:9)","timestamp":"2025-04-13T11:54:39.202Z"}
{"level":"info","message":"MongoDB connected successfully","service":"media_service","timestamp":"2025-04-13T11:54:42.077Z"}
{"level":"info","message":"Connected to RabbitMQ successfully","service":"media_service","timestamp":"2025-04-13T11:56:43.523Z"}
{"level":"error","message":"Error connecting to RabbitMQ: Cannot read properties of null (reading 'assertQueue')","service":"media_service","stack":"TypeError: Cannot read properties of null (reading 'assertQueue')\n    at consumeFromQueue (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\utils\\rabbitmq.js:37:29)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async startserver (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\server.js:41:9)","timestamp":"2025-04-13T11:56:43.530Z"}
{"level":"info","message":"MongoDB connected successfully","service":"media_service","timestamp":"2025-04-13T11:56:46.400Z"}
{"level":"error","message":"Error connecting to RabbitMQ: e is not defined","service":"media_service","stack":"ReferenceError: e is not defined\n    at connectRabbitMQ (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\utils\\rabbitmq.js:17:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async startserver (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\server.js:39:9)","timestamp":"2025-04-13T12:00:43.024Z"}
{"code":"ECONNREFUSED","level":"error","message":"Error connecting to RabbitMQ:","service":"media_service","stack":"AggregateError [ECONNREFUSED]: \n    at internalConnectMultiple (node:net:1117:18)\n    at afterConnectMultiple (node:net:1684:7)","timestamp":"2025-04-13T12:00:44.144Z"}
{"level":"info","message":"MongoDB connected successfully","service":"media_service","timestamp":"2025-04-13T12:00:47.343Z"}
{"level":"info","message":"Connected to RabbitMQ successfully","service":"media_service","timestamp":"2025-04-13T12:01:17.885Z"}
{"level":"info","message":"Waiting for messages in queue amq.gen-D6MmGKoYZYcjm1n2aJP6FJkS-njQIGtK with routing key post.deleted","service":"media_service","timestamp":"2025-04-13T12:01:18.168Z"}
{"level":"info","message":"Server is running on port 3003","service":"media_service","timestamp":"2025-04-13T12:01:18.170Z"}
{"level":"info","message":"MongoDB connected successfully","service":"media_service","timestamp":"2025-04-13T12:01:18.993Z"}
{"level":"info","message":"Connected to RabbitMQ successfully","service":"media_service","timestamp":"2025-04-13T12:47:58.645Z"}
{"level":"info","message":"Waiting for messages in queue amq.gen-UzfnUg3glGq3JqQmumpS0QL6COvkqn6s with routing key post.deleted","service":"media_service","timestamp":"2025-04-13T12:47:58.930Z"}
{"level":"info","message":"Server is running on port 3003","service":"media_service","timestamp":"2025-04-13T12:47:58.933Z"}
{"level":"info","message":"MongoDB connected successfully","service":"media_service","timestamp":"2025-04-13T12:47:59.815Z"}
{"level":"info","message":"Connected to RabbitMQ successfully","service":"media_service","timestamp":"2025-04-14T04:40:15.681Z"}
{"level":"info","message":"Waiting for messages in queue amq.gen-ua8LxWnbqr2eG9lZXVEHc73DFeWOsMYY with routing key post.deleted","service":"media_service","timestamp":"2025-04-14T04:40:15.960Z"}
{"level":"info","message":"Server is running on port 3003","service":"media_service","timestamp":"2025-04-14T04:40:15.962Z"}
{"level":"info","message":"MongoDB connected successfully","service":"media_service","timestamp":"2025-04-14T04:40:16.025Z"}
{"level":"info","message":"Request Method: POST, Request URL: /api/media/upload","service":"media_service","timestamp":"2025-04-14T04:43:16.163Z"}
{"level":"info","message":"Request body, undefined","service":"media_service","timestamp":"2025-04-14T04:43:16.164Z"}
{"level":"info","message":"User authenticated with ID: 67e2936d82da703079f674cc","service":"media_service","timestamp":"2025-04-14T04:43:16.165Z"}
{"level":"info","message":"Starting media upload","service":"media_service","timestamp":"2025-04-14T04:43:16.174Z"}
{"level":"info","message":"File details: name=bill_img.jpg, type=image/jpeg","service":"media_service","timestamp":"2025-04-14T04:43:16.178Z"}
{"level":"info","message":"Uploading to cloudinary starting...","service":"media_service","timestamp":"2025-04-14T04:43:16.179Z"}
{"level":"info","message":"Cloudinary upload successfully. Public Id: - fayh55kqalniai1lu8qk","service":"media_service","timestamp":"2025-04-14T04:43:19.016Z"}
{"level":"info","message":"Connected to RabbitMQ successfully","service":"media_service","timestamp":"2025-04-14T05:01:35.203Z"}
{"level":"info","message":"MongoDB connected successfully","service":"media_service","timestamp":"2025-04-14T05:01:35.361Z"}
{"level":"info","message":"Waiting for messages in queue amq.gen-NAv369As2aISjraCb6wEyJffJ-55i_03 with routing key post.deleted","service":"media_service","timestamp":"2025-04-14T05:01:35.491Z"}
{"level":"info","message":"Server is running on port 3003","service":"media_service","timestamp":"2025-04-14T05:01:35.493Z"}
{"level":"info","message":"Connected to RabbitMQ successfully","service":"media_service","timestamp":"2025-04-14T05:01:46.621Z"}
{"level":"info","message":"Waiting for messages in queue amq.gen-UiFcqmFJjmQTRSlQfU9V6zPbMnuut9JD with routing key post.deleted","service":"media_service","timestamp":"2025-04-14T05:01:47.089Z"}
{"level":"info","message":"Server is running on port 3003","service":"media_service","timestamp":"2025-04-14T05:01:47.091Z"}
{"level":"info","message":"MongoDB connected successfully","service":"media_service","timestamp":"2025-04-14T05:01:47.689Z"}
{"level":"info","message":"Connected to RabbitMQ successfully","service":"media_service","timestamp":"2025-04-14T05:03:18.249Z"}
{"level":"info","message":"Waiting for messages in queue amq.gen-BO9UzDJcce6EWivdq5NwqxN5F_UPzN_q with routing key post.deleted","service":"media_service","timestamp":"2025-04-14T05:03:18.569Z"}
{"level":"info","message":"Server is running on port 3003","service":"media_service","timestamp":"2025-04-14T05:03:18.571Z"}
{"level":"info","message":"MongoDB connected successfully","service":"media_service","timestamp":"2025-04-14T05:03:19.532Z"}
{"level":"info","message":"Request Method: GET, Request URL: /api/media/getAllMedia","service":"media_service","timestamp":"2025-04-14T05:04:02.710Z"}
{"level":"info","message":"Request body, undefined","service":"media_service","timestamp":"2025-04-14T05:04:02.710Z"}
{"level":"info","message":"User authenticated with ID: 67e2936d82da703079f674cc","service":"media_service","timestamp":"2025-04-14T05:04:02.711Z"}
{"level":"info","message":"Hit getAllMedia controller","service":"media_service","timestamp":"2025-04-14T05:04:02.712Z"}
{"level":"info","message":"Connected to RabbitMQ successfully","service":"media_service","timestamp":"2025-04-14T05:05:04.356Z"}
{"level":"info","message":"Waiting for messages in queue amq.gen-IV0eu284Fv-9typrb9PqKgwxL7gxhTbp with routing key post.deleted","service":"media_service","timestamp":"2025-04-14T05:05:04.635Z"}
{"level":"info","message":"Server is running on port 3003","service":"media_service","timestamp":"2025-04-14T05:05:04.638Z"}
{"level":"info","message":"MongoDB connected successfully","service":"media_service","timestamp":"2025-04-14T05:05:05.219Z"}
{"level":"info","message":"Request Method: GET, Request URL: /api/media/getAllMedia","service":"media_service","timestamp":"2025-04-14T05:05:13.412Z"}
{"level":"info","message":"Request body, undefined","service":"media_service","timestamp":"2025-04-14T05:05:13.412Z"}
{"level":"info","message":"User authenticated with ID: 67e2936d82da703079f674cc","service":"media_service","timestamp":"2025-04-14T05:05:13.413Z"}
{"level":"info","message":"Hit getAllMedia controller","service":"media_service","timestamp":"2025-04-14T05:05:13.414Z"}
{"level":"info","mediaIds":["67fc92678d9c0708de72ff30"],"message":"Handling post delete event","postId":"67fc93952aa8605db4d5d48b","service":"media_service","timestamp":"2025-04-14T05:05:57.690Z","userId":"67e2936d82da703079f674cc"}
{"kind":"ObjectId","level":"error","message":"Error while deleting media from cloudinary Cast to ObjectId failed for value \"{ _id: { '$in': [ '67fc92678d9c0708de72ff30' ] } }\" (type Object) at path \"_id\" for model \"Media\"","path":"_id","reason":{},"service":"media_service","stack":"CastError: Cast to ObjectId failed for value \"{ _id: { '$in': [ '67fc92678d9c0708de72ff30' ] } }\" (type Object) at path \"_id\" for model \"Media\"\n    at SchemaObjectId.cast (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\mongoose\\lib\\schemaType.js:1255:12)\n    at SchemaType.castForQuery (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\mongoose\\lib\\schemaType.js:1673:17)\n    at cast (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\mongoose\\lib\\cast.js:319:34)\n    at Query.cast (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\mongoose\\lib\\query.js:4907:12)\n    at Query._castConditions (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\mongoose\\lib\\query.js:2325:10)\n    at model.Query._findOne (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\mongoose\\lib\\query.js:2648:8)\n    at model.Query.exec (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\mongoose\\lib\\query.js:4456:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async handlePostDelete (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\handleevent\\handle-media-event.js:11:31)","stringValue":"\"{ _id: { '$in': [ '67fc92678d9c0708de72ff30' ] } }\"","timestamp":"2025-04-14T05:05:57.694Z","value":{"_id":{"$in":["67fc92678d9c0708de72ff30"]}},"valueType":"Object"}
{"level":"info","message":"Request Method: GET, Request URL: /api/media/getAllMedia","service":"media_service","timestamp":"2025-04-14T05:06:03.091Z"}
{"level":"info","message":"Request body, undefined","service":"media_service","timestamp":"2025-04-14T05:06:03.091Z"}
{"level":"info","message":"User authenticated with ID: 67e2936d82da703079f674cc","service":"media_service","timestamp":"2025-04-14T05:06:03.092Z"}
{"level":"info","message":"Hit getAllMedia controller","service":"media_service","timestamp":"2025-04-14T05:06:03.092Z"}
{"level":"info","message":"Request Method: POST, Request URL: /api/media/upload","service":"media_service","timestamp":"2025-04-14T05:13:32.240Z"}
{"level":"info","message":"Request body, undefined","service":"media_service","timestamp":"2025-04-14T05:13:32.240Z"}
{"level":"info","message":"User authenticated with ID: 67e2936d82da703079f674cc","service":"media_service","timestamp":"2025-04-14T05:13:32.241Z"}
{"level":"info","message":"Starting media upload","service":"media_service","timestamp":"2025-04-14T05:13:32.247Z"}
{"level":"info","message":"File details: name=bill_img.jpg, type=image/jpeg","service":"media_service","timestamp":"2025-04-14T05:13:32.248Z"}
{"level":"info","message":"Uploading to cloudinary starting...","service":"media_service","timestamp":"2025-04-14T05:13:32.250Z"}
{"level":"info","message":"Cloudinary upload successfully. Public Id: - ip8irretjkmf972yhcrl","service":"media_service","timestamp":"2025-04-14T05:13:34.783Z"}
{"level":"info","mediaIds":["67fc997e8ee5abce1b751f55"],"message":"Handling post delete event","postId":"67fc99a3daaea4b14b05018c","service":"media_service","timestamp":"2025-04-14T05:14:45.289Z","userId":"67e2936d82da703079f674cc"}
{"kind":"ObjectId","level":"error","message":"Error while deleting media from cloudinary Cast to ObjectId failed for value \"{ _id: { '$in': [ '67fc997e8ee5abce1b751f55' ] } }\" (type Object) at path \"_id\" for model \"Media\"","path":"_id","reason":{},"service":"media_service","stack":"CastError: Cast to ObjectId failed for value \"{ _id: { '$in': [ '67fc997e8ee5abce1b751f55' ] } }\" (type Object) at path \"_id\" for model \"Media\"\n    at SchemaObjectId.cast (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\mongoose\\lib\\schema\\objectId.js:251:11)\n    at SchemaType.applySetters (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\mongoose\\lib\\schemaType.js:1255:12)\n    at SchemaType.castForQuery (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\mongoose\\lib\\schemaType.js:1673:17)\n    at cast (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\mongoose\\lib\\cast.js:319:34)\n    at Query.cast (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\mongoose\\lib\\query.js:4907:12)\n    at Query._castConditions (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\mongoose\\lib\\query.js:2325:10)\n    at model.Query._findOne (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\mongoose\\lib\\query.js:2648:8)\n    at model.Query.exec (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\node_modules\\mongoose\\lib\\query.js:4456:80)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async handlePostDelete (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\handleevent\\handle-media-event.js:11:31)","stringValue":"\"{ _id: { '$in': [ '67fc997e8ee5abce1b751f55' ] } }\"","timestamp":"2025-04-14T05:14:45.290Z","value":{"_id":{"$in":["67fc997e8ee5abce1b751f55"]}},"valueType":"Object"}
{"level":"info","message":"Request Method: GET, Request URL: /api/media/getAllMedia","service":"media_service","timestamp":"2025-04-14T05:14:54.818Z"}
{"level":"info","message":"Request body, undefined","service":"media_service","timestamp":"2025-04-14T05:14:54.818Z"}
{"level":"info","message":"User authenticated with ID: 67e2936d82da703079f674cc","service":"media_service","timestamp":"2025-04-14T05:14:54.818Z"}
{"level":"info","message":"Hit getAllMedia controller","service":"media_service","timestamp":"2025-04-14T05:14:54.819Z"}
{"level":"info","message":"Connected to RabbitMQ successfully","service":"media_service","timestamp":"2025-04-14T05:23:16.981Z"}
{"level":"info","message":"Waiting for messages in queue amq.gen-pm2SWDaq3vdFno8PtPbnprUSP_QmRhEH with routing key post.deleted","service":"media_service","timestamp":"2025-04-14T05:23:17.265Z"}
{"level":"info","message":"Server is running on port 3003","service":"media_service","timestamp":"2025-04-14T05:23:17.267Z"}
{"level":"info","message":"MongoDB connected successfully","service":"media_service","timestamp":"2025-04-14T05:23:17.609Z"}
{"level":"info","message":"Connected to RabbitMQ successfully","service":"media_service","timestamp":"2025-04-14T05:23:42.286Z"}
{"level":"info","message":"Waiting for messages in queue amq.gen-gRR0drG7wYYmrgNBO_8iZVCzmPNg8Ghb with routing key post.deleted","service":"media_service","timestamp":"2025-04-14T05:23:42.596Z"}
{"level":"info","message":"Server is running on port 3003","service":"media_service","timestamp":"2025-04-14T05:23:42.599Z"}
{"level":"info","message":"Connected to RabbitMQ successfully","service":"media_service","timestamp":"2025-04-14T05:23:45.702Z"}
{"level":"info","message":"Waiting for messages in queue amq.gen-86sRLH_qi1q0GtLbtFLScy-sPFfl_0b3 with routing key post.deleted","service":"media_service","timestamp":"2025-04-14T05:23:46.084Z"}
{"level":"info","message":"Server is running on port 3003","service":"media_service","timestamp":"2025-04-14T05:23:46.087Z"}
{"level":"info","message":"MongoDB connected successfully","service":"media_service","timestamp":"2025-04-14T05:23:46.612Z"}
{"level":"info","message":"Connected to RabbitMQ successfully","service":"media_service","timestamp":"2025-04-14T05:25:00.555Z"}
{"level":"info","message":"Waiting for messages in queue amq.gen-Y3RKxwMIVpJVRkTYVqZPKQ2oWX_5kzBB with routing key post.deleted","service":"media_service","timestamp":"2025-04-14T05:25:00.839Z"}
{"level":"info","message":"Server is running on port 3003","service":"media_service","timestamp":"2025-04-14T05:25:00.841Z"}
{"level":"info","message":"MongoDB connected successfully","service":"media_service","timestamp":"2025-04-14T05:25:01.685Z"}
{"level":"info","message":"Connected to RabbitMQ successfully","service":"media_service","timestamp":"2025-04-14T05:25:42.572Z"}
{"level":"info","message":"Waiting for messages in queue amq.gen-vgH983QXSosKB54LMfZV7ltcIuoQPVUw with routing key post.deleted","service":"media_service","timestamp":"2025-04-14T05:25:42.941Z"}
{"level":"info","message":"Server is running on port 3003","service":"media_service","timestamp":"2025-04-14T05:25:42.943Z"}
{"level":"info","message":"MongoDB connected successfully","service":"media_service","timestamp":"2025-04-14T05:25:43.907Z"}
{"level":"info","message":"Connected to RabbitMQ successfully","service":"media_service","timestamp":"2025-04-14T05:26:00.234Z"}
{"level":"info","message":"Waiting for messages in queue amq.gen-D_ds42tMW8N16Q61TZlo0N6lK2g2QaR2 with routing key post.deleted","service":"media_service","timestamp":"2025-04-14T05:26:00.562Z"}
{"level":"info","message":"Server is running on port 3003","service":"media_service","timestamp":"2025-04-14T05:26:00.566Z"}
{"level":"info","message":"MongoDB connected successfully","service":"media_service","timestamp":"2025-04-14T05:26:01.277Z"}
{"level":"info","message":"Request Method: GET, Request URL: /api/media/getAllMedia","service":"media_service","timestamp":"2025-04-14T05:26:11.290Z"}
{"level":"info","message":"Request body, undefined","service":"media_service","timestamp":"2025-04-14T05:26:11.290Z"}
{"level":"info","message":"User authenticated with ID: 67e2936d82da703079f674cc","service":"media_service","timestamp":"2025-04-14T05:26:11.291Z"}
{"level":"info","message":"Hit getAllMedia controller","service":"media_service","timestamp":"2025-04-14T05:26:11.292Z"}
{"level":"info","message":"Request Method: POST, Request URL: /api/media/upload","service":"media_service","timestamp":"2025-04-14T05:26:31.342Z"}
{"level":"info","message":"Request body, undefined","service":"media_service","timestamp":"2025-04-14T05:26:31.343Z"}
{"level":"info","message":"User authenticated with ID: 67e2936d82da703079f674cc","service":"media_service","timestamp":"2025-04-14T05:26:31.343Z"}
{"level":"info","message":"Starting media upload","service":"media_service","timestamp":"2025-04-14T05:26:31.348Z"}
{"level":"info","message":"File details: name=bill_img.jpg, type=image/jpeg","service":"media_service","timestamp":"2025-04-14T05:26:31.351Z"}
{"level":"info","message":"Uploading to cloudinary starting...","service":"media_service","timestamp":"2025-04-14T05:26:31.351Z"}
{"level":"info","message":"Cloudinary upload successfully. Public Id: - f0h47gtwfxhgxtavzdue","service":"media_service","timestamp":"2025-04-14T05:26:34.458Z"}
{"level":"info","message":"Request Method: GET, Request URL: /api/media/getAllMedia","service":"media_service","timestamp":"2025-04-14T05:27:19.027Z"}
{"level":"info","message":"Request body, undefined","service":"media_service","timestamp":"2025-04-14T05:27:19.027Z"}
{"level":"info","message":"User authenticated with ID: 67e2936d82da703079f674cc","service":"media_service","timestamp":"2025-04-14T05:27:19.028Z"}
{"level":"info","message":"Hit getAllMedia controller","service":"media_service","timestamp":"2025-04-14T05:27:19.028Z"}
{"level":"info","mediaIds":["67fc9c8af803cb5ce4ceabd0"],"message":"Handling post delete event","postId":"67fc9ca3daaea4b14b050192","service":"media_service","timestamp":"2025-04-14T05:27:26.112Z","userId":"67e2936d82da703079f674cc"}
{"level":"info","message":"Media deleted successfully from cloudinary","result":"ok","service":"media_service","timestamp":"2025-04-14T05:27:27.122Z"}
{"level":"error","message":"Error while deleting media from cloudinary mediaId is not defined","service":"media_service","stack":"ReferenceError: mediaId is not defined\n    at handlePostDelete (E:\\SOCIAL-MEDIA-MICROSERVICE\\media-service\\src\\handleevent\\handle-media-event.js:21:67)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-04-14T05:27:27.149Z"}
{"level":"info","message":"Request Method: GET, Request URL: /api/media/getAllMedia","service":"media_service","timestamp":"2025-04-14T05:27:29.530Z"}
{"level":"info","message":"Request body, undefined","service":"media_service","timestamp":"2025-04-14T05:27:29.530Z"}
{"level":"info","message":"User authenticated with ID: 67e2936d82da703079f674cc","service":"media_service","timestamp":"2025-04-14T05:27:29.531Z"}
{"level":"info","message":"Hit getAllMedia controller","service":"media_service","timestamp":"2025-04-14T05:27:29.531Z"}
